"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([["3819"],{62575:function(e,o,n){n.r(o),n.d(o,{default:()=>t});var s=n(31549),a=n(6603);function r(e){let o=Object.assign({h1:"h1",a:"a",p:"p",h3:"h3",h4:"h4",ul:"ul",li:"li",strong:"strong",h2:"h2",code:"code",pre:"pre",ol:"ol"},(0,a.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(o.h1,{id:"vincula\\xe7\\xe3o-de-m\\xf3dulos",children:["Vincula\xe7\xe3o de M\xf3dulos",(0,s.jsx)(o.a,{className:"header-anchor","aria-hidden":"true",href:"#vincula\\xe7\\xe3o-de-m\\xf3dulos",children:"#"})]}),"\n",(0,s.jsx)(o.p,{children:"O framework Gez fornece um mecanismo completo de vincula\xe7\xe3o de m\xf3dulos para gerenciar o compartilhamento de c\xf3digo e as depend\xeancias entre servi\xe7os. Este mecanismo \xe9 implementado com base na especifica\xe7\xe3o ESM (ECMAScript Module), suportando exporta\xe7\xe3o e importa\xe7\xe3o de m\xf3dulos em n\xedvel de c\xf3digo-fonte, al\xe9m de funcionalidades completas de gerenciamento de depend\xeancias."}),"\n",(0,s.jsxs)(o.h3,{id:"conceitos-principais",children:["Conceitos Principais",(0,s.jsx)(o.a,{className:"header-anchor","aria-hidden":"true",href:"#conceitos-principais",children:"#"})]}),"\n",(0,s.jsxs)(o.h4,{id:"exporta\\xe7\\xe3o-de-m\\xf3dulos",children:["Exporta\xe7\xe3o de M\xf3dulos",(0,s.jsx)(o.a,{className:"header-anchor","aria-hidden":"true",href:"#exporta\\xe7\\xe3o-de-m\\xf3dulos",children:"#"})]}),"\n",(0,s.jsx)(o.p,{children:"A exporta\xe7\xe3o de m\xf3dulos \xe9 o processo de expor unidades de c\xf3digo espec\xedficas (como componentes, fun\xe7\xf5es utilit\xe1rias, etc.) de um servi\xe7o no formato ESM. S\xe3o suportados dois tipos de exporta\xe7\xe3o:"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Exporta\xe7\xe3o de C\xf3digo-Fonte"}),": Exporta diretamente arquivos de c\xf3digo-fonte do projeto"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Exporta\xe7\xe3o de Depend\xeancias"}),": Exporta pacotes de depend\xeancias de terceiros usados pelo projeto"]}),"\n"]}),"\n",(0,s.jsxs)(o.h4,{id:"vincula\\xe7\\xe3o-de-m\\xf3dulos-1",children:["Vincula\xe7\xe3o de M\xf3dulos",(0,s.jsx)(o.a,{className:"header-anchor","aria-hidden":"true",href:"#vincula\\xe7\\xe3o-de-m\\xf3dulos-1",children:"#"})]}),"\n",(0,s.jsx)(o.p,{children:"A importa\xe7\xe3o de m\xf3dulos \xe9 o processo de referenciar unidades de c\xf3digo exportadas por outros servi\xe7os em um servi\xe7o. S\xe3o suportados v\xe1rios m\xe9todos de instala\xe7\xe3o:"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Instala\xe7\xe3o de C\xf3digo-Fonte"}),": Adequado para ambientes de desenvolvimento, suporta modifica\xe7\xf5es em tempo real e atualiza\xe7\xe3o a quente"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Instala\xe7\xe3o de Pacotes"}),": Adequado para ambientes de produ\xe7\xe3o, utiliza diretamente os artefatos de constru\xe7\xe3o"]}),"\n"]}),"\n",(0,s.jsxs)(o.h2,{id:"exporta\\xe7\\xe3o-de-m\\xf3dulos-1",children:["Exporta\xe7\xe3o de M\xf3dulos",(0,s.jsx)(o.a,{className:"header-anchor","aria-hidden":"true",href:"#exporta\\xe7\\xe3o-de-m\\xf3dulos-1",children:"#"})]}),"\n",(0,s.jsxs)(o.h3,{id:"configura\\xe7\\xe3o",children:["Configura\xe7\xe3o",(0,s.jsx)(o.a,{className:"header-anchor","aria-hidden":"true",href:"#configura\\xe7\\xe3o",children:"#"})]}),"\n",(0,s.jsxs)(o.p,{children:["Configure os m\xf3dulos a serem exportados em ",(0,s.jsx)(o.code,{children:"entry.node.ts"}),":"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-ts",meta:'title="src/entry.node.ts"',children:"import type { GezOptions } from '@gez/core';\n\nexport default {\n    modules: {\n        exports: [\n            // Exportar arquivos de c\xf3digo-fonte\n            'root:src/components/button.vue',  // Componente Vue\n            'root:src/utils/format.ts',        // Fun\xe7\xe3o utilit\xe1ria\n            // Exportar depend\xeancias de terceiros\n            'npm:vue',                         // Framework Vue\n            'npm:vue-router'                   // Vue Router\n        ]\n    }\n} satisfies GezOptions;\n"})}),"\n",(0,s.jsx)(o.p,{children:"A configura\xe7\xe3o de exporta\xe7\xe3o suporta dois tipos:"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"root:*"}),": Exporta arquivos de c\xf3digo-fonte, com caminho relativo ao diret\xf3rio raiz do projeto"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"npm:*"}),": Exporta depend\xeancias de terceiros, especificando diretamente o nome do pacote"]}),"\n"]}),"\n",(0,s.jsxs)(o.h2,{id:"importa\\xe7\\xe3o-de-m\\xf3dulos",children:["Importa\xe7\xe3o de M\xf3dulos",(0,s.jsx)(o.a,{className:"header-anchor","aria-hidden":"true",href:"#importa\\xe7\\xe3o-de-m\\xf3dulos",children:"#"})]}),"\n",(0,s.jsxs)(o.h3,{id:"configura\\xe7\\xe3o-1",children:["Configura\xe7\xe3o",(0,s.jsx)(o.a,{className:"header-anchor","aria-hidden":"true",href:"#configura\\xe7\\xe3o-1",children:"#"})]}),"\n",(0,s.jsxs)(o.p,{children:["Configure os m\xf3dulos a serem importados em ",(0,s.jsx)(o.code,{children:"entry.node.ts"}),":"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-ts",meta:'title="src/entry.node.ts"',children:"import type { GezOptions } from '@gez/core';\n\nexport default {\n    modules: {\n        // Configura\xe7\xe3o de vincula\xe7\xe3o\n        links: {\n            // Instala\xe7\xe3o de c\xf3digo-fonte: aponta para o diret\xf3rio de artefatos de constru\xe7\xe3o\n            'ssr-remote': 'root:./node_modules/ssr-remote/dist',\n            // Instala\xe7\xe3o de pacotes: aponta para o diret\xf3rio do pacote\n            'other-remote': 'root:./node_modules/other-remote'\n        },\n        // Configura\xe7\xe3o de mapeamento de importa\xe7\xe3o\n        imports: {\n            // Usar depend\xeancias de m\xf3dulos remotos\n            'vue': 'ssr-remote/npm/vue',\n            'vue-router': 'ssr-remote/npm/vue-router'\n        }\n    }\n} satisfies GezOptions;\n"})}),"\n",(0,s.jsx)(o.p,{children:"Explica\xe7\xe3o dos itens de configura\xe7\xe3o:"}),"\n",(0,s.jsxs)(o.ol,{children:["\n",(0,s.jsxs)(o.li,{children:["\n",(0,s.jsxs)(o.p,{children:[(0,s.jsx)(o.strong,{children:"imports"}),": Configura o caminho local dos m\xf3dulos remotos"]}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:"Instala\xe7\xe3o de c\xf3digo-fonte: aponta para o diret\xf3rio de artefatos de constru\xe7\xe3o (dist)"}),"\n",(0,s.jsx)(o.li,{children:"Instala\xe7\xe3o de pacotes: aponta diretamente para o diret\xf3rio do pacote"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(o.li,{children:["\n",(0,s.jsxs)(o.p,{children:[(0,s.jsx)(o.strong,{children:"externals"}),": Configura depend\xeancias externas"]}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:"Usado para compartilhar depend\xeancias de m\xf3dulos remotos"}),"\n",(0,s.jsx)(o.li,{children:"Evita empacotamento duplicado das mesmas depend\xeancias"}),"\n",(0,s.jsx)(o.li,{children:"Suporta compartilhamento de depend\xeancias entre v\xe1rios m\xf3dulos"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(o.h3,{id:"m\\xe9todos-de-instala\\xe7\\xe3o",children:["M\xe9todos de Instala\xe7\xe3o",(0,s.jsx)(o.a,{className:"header-anchor","aria-hidden":"true",href:"#m\\xe9todos-de-instala\\xe7\\xe3o",children:"#"})]}),"\n",(0,s.jsxs)(o.h4,{id:"instala\\xe7\\xe3o-de-c\\xf3digo-fonte",children:["Instala\xe7\xe3o de C\xf3digo-Fonte",(0,s.jsx)(o.a,{className:"header-anchor","aria-hidden":"true",href:"#instala\\xe7\\xe3o-de-c\\xf3digo-fonte",children:"#"})]}),"\n",(0,s.jsx)(o.p,{children:"Adequado para ambientes de desenvolvimento, suporta modifica\xe7\xf5es em tempo real e atualiza\xe7\xe3o a quente."}),"\n",(0,s.jsxs)(o.ol,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Modo Workspace"}),"\nRecomendado para uso em projetos Monorepo:"]}),"\n"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-ts",meta:'title="package.json"',children:'{\n    "devDependencies": {\n        "ssr-remote": "workspace:*"\n    }\n}\n'})}),"\n",(0,s.jsxs)(o.ol,{start:"2",children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Modo Link"}),"\nUsado para depura\xe7\xe3o local:"]}),"\n"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-ts",meta:'title="package.json"',children:'{\n    "devDependencies": {\n        "ssr-remote": "link:../ssr-remote"\n    }\n}\n'})}),"\n",(0,s.jsxs)(o.h4,{id:"instala\\xe7\\xe3o-de-pacotes",children:["Instala\xe7\xe3o de Pacotes",(0,s.jsx)(o.a,{className:"header-anchor","aria-hidden":"true",href:"#instala\\xe7\\xe3o-de-pacotes",children:"#"})]}),"\n",(0,s.jsx)(o.p,{children:"Adequado para ambientes de produ\xe7\xe3o, utiliza diretamente os artefatos de constru\xe7\xe3o."}),"\n",(0,s.jsxs)(o.ol,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Registro NPM"}),"\nInstala\xe7\xe3o via registro npm:"]}),"\n"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-ts",meta:'title="package.json"',children:'{\n    "dependencies": {\n        "ssr-remote": "^1.0.0"\n    }\n}\n'})}),"\n",(0,s.jsxs)(o.ol,{start:"2",children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Servidor Est\xe1tico"}),"\nInstala\xe7\xe3o via protocolo HTTP/HTTPS:"]}),"\n"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-ts",meta:'title="package.json"',children:'{\n    "dependencies": {\n        "ssr-remote": "https://cdn.example.com/ssr-remote/1.0.0.tgz"\n    }\n}\n'})}),"\n",(0,s.jsxs)(o.h2,{id:"constru\\xe7\\xe3o-de-pacotes",children:["Constru\xe7\xe3o de Pacotes",(0,s.jsx)(o.a,{className:"header-anchor","aria-hidden":"true",href:"#constru\\xe7\\xe3o-de-pacotes",children:"#"})]}),"\n",(0,s.jsxs)(o.h3,{id:"configura\\xe7\\xe3o-2",children:["Configura\xe7\xe3o",(0,s.jsx)(o.a,{className:"header-anchor","aria-hidden":"true",href:"#configura\\xe7\\xe3o-2",children:"#"})]}),"\n",(0,s.jsxs)(o.p,{children:["Configure as op\xe7\xf5es de constru\xe7\xe3o em ",(0,s.jsx)(o.code,{children:"entry.node.ts"}),":"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-ts",meta:'title="src/entry.node.ts"',children:"import type { GezOptions } from '@gez/core';\n\nexport default {\n    // Configura\xe7\xe3o de exporta\xe7\xe3o de m\xf3dulos\n    modules: {\n        exports: [\n            'root:src/components/button.vue',\n            'root:src/utils/format.ts',\n            'npm:vue'\n        ]\n    },\n    // Configura\xe7\xe3o de constru\xe7\xe3o\n    pack: {\n        // Habilitar constru\xe7\xe3o\n        enable: true,\n\n        // Configura\xe7\xe3o de sa\xedda\n        outputs: [\n            'dist/client/versions/latest.tgz',\n            'dist/client/versions/1.0.0.tgz'\n        ],\n\n        // package.json personalizado\n        packageJson: async (gez, pkg) => {\n            pkg.version = '1.0.0';\n            return pkg;\n        },\n\n        // Processamento pr\xe9-constru\xe7\xe3o\n        onBefore: async (gez, pkg) => {\n            // Gerar declara\xe7\xf5es de tipo\n            // Executar casos de teste\n            // Atualizar documenta\xe7\xe3o, etc.\n        },\n\n        // Processamento p\xf3s-constru\xe7\xe3o\n        onAfter: async (gez, pkg, file) => {\n            // Fazer upload para CDN\n            // Publicar no reposit\xf3rio npm\n            // Implantar em ambiente de teste, etc.\n        }\n    }\n} satisfies GezOptions;\n"})}),"\n",(0,s.jsxs)(o.h3,{id:"artefatos-de-constru\\xe7\\xe3o",children:["Artefatos de Constru\xe7\xe3o",(0,s.jsx)(o.a,{className:"header-anchor","aria-hidden":"true",href:"#artefatos-de-constru\\xe7\\xe3o",children:"#"})]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{children:"your-app-name.tgz\n├── package.json        # Informa\xe7\xf5es do pacote\n├── index.js            # Entrada para ambiente de produ\xe7\xe3o\n├── server/             # Recursos do servidor\n│   └── manifest.json   # Mapeamento de recursos do servidor\n├── node/               # Tempo de execu\xe7\xe3o Node.js\n└── client/             # Recursos do cliente\n    └── manifest.json   # Mapeamento de recursos do cliente\n"})}),"\n",(0,s.jsxs)(o.h3,{id:"fluxo-de-publica\\xe7\\xe3o",children:["Fluxo de Publica\xe7\xe3o",(0,s.jsx)(o.a,{className:"header-anchor","aria-hidden":"true",href:"#fluxo-de-publica\\xe7\\xe3o",children:"#"})]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:"# 1. Construir vers\xe3o de produ\xe7\xe3o\ngez build\n\n# 2. Publicar no npm\nnpm publish dist/versions/your-app-name.tgz\n"})})]})}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:o}=Object.assign({},(0,a.ah)(),e.components);return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(r,{...e})}):r(e)}let t=d;d.__RSPRESS_PAGE_META={},d.__RSPRESS_PAGE_META["pt%2Fguide%2Fessentials%2Fmodule-link.md"]={toc:[{text:"Conceitos Principais",id:"conceitos-principais",depth:3},{text:"Exporta\xe7\xe3o de M\xf3dulos",id:"exporta\xe7\xe3o-de-m\xf3dulos",depth:4},{text:"Vincula\xe7\xe3o de M\xf3dulos",id:"vincula\xe7\xe3o-de-m\xf3dulos-1",depth:4},{text:"Exporta\xe7\xe3o de M\xf3dulos",id:"exporta\xe7\xe3o-de-m\xf3dulos-1",depth:2},{text:"Configura\xe7\xe3o",id:"configura\xe7\xe3o",depth:3},{text:"Importa\xe7\xe3o de M\xf3dulos",id:"importa\xe7\xe3o-de-m\xf3dulos",depth:2},{text:"Configura\xe7\xe3o",id:"configura\xe7\xe3o-1",depth:3},{text:"M\xe9todos de Instala\xe7\xe3o",id:"m\xe9todos-de-instala\xe7\xe3o",depth:3},{text:"Instala\xe7\xe3o de C\xf3digo-Fonte",id:"instala\xe7\xe3o-de-c\xf3digo-fonte",depth:4},{text:"Instala\xe7\xe3o de Pacotes",id:"instala\xe7\xe3o-de-pacotes",depth:4},{text:"Constru\xe7\xe3o de Pacotes",id:"constru\xe7\xe3o-de-pacotes",depth:2},{text:"Configura\xe7\xe3o",id:"configura\xe7\xe3o-2",depth:3},{text:"Artefatos de Constru\xe7\xe3o",id:"artefatos-de-constru\xe7\xe3o",depth:3},{text:"Fluxo de Publica\xe7\xe3o",id:"fluxo-de-publica\xe7\xe3o",depth:3}],title:"Vincula\xe7\xe3o de M\xf3dulos",headingTitle:"Vincula\xe7\xe3o de M\xf3dulos",frontmatter:{titleSuffix:"Mecanismo de Compartilhamento de C\xf3digo entre Servi\xe7os do Framework Gez",description:"Detalha o mecanismo de vincula\xe7\xe3o de m\xf3dulos do framework Gez, incluindo compartilhamento de c\xf3digo entre servi\xe7os, gerenciamento de depend\xeancias e implementa\xe7\xe3o da especifica\xe7\xe3o ESM, ajudando desenvolvedores a construir aplica\xe7\xf5es de micro front-end eficientes.",head:[["meta",{property:"keywords",content:"Gez, Vincula\xe7\xe3o de M\xf3dulos, Module Link, ESM, Compartilhamento de C\xf3digo, Gerenciamento de Depend\xeancias, Micro Front-end"}]]}}}}]);