"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([["8357"],{18736:function(n,e,h){h.r(e),h.d(e,{default:()=>s});var t=h(31549),i=h(6603);function c(n){let e=Object.assign({h1:"h1",a:"a",p:"p",h3:"h3",h4:"h4",ul:"ul",li:"li",strong:"strong",h2:"h2",code:"code",pre:"pre",ol:"ol"},(0,i.ah)(),n.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(e.h1,{id:"li\\xean-kết-module",children:["Li\xean kết module",(0,t.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#li\\xean-kết-module",children:"#"})]}),"\n",(0,t.jsx)(e.p,{children:"Framework Gez cung cấp một cơ chế li\xean kết module ho\xe0n chỉnh để quản l\xfd việc chia sẻ m\xe3 v\xe0 c\xe1c mối quan hệ phụ thuộc giữa c\xe1c dịch vụ. Cơ chế n\xe0y được triển khai dựa tr\xean ti\xeau chuẩn ESM (ECMAScript Module), hỗ trợ xuất v\xe0 nhập module ở cấp độ m\xe3 nguồn, c\xf9ng với c\xe1c chức năng quản l\xfd phụ thuộc đầy đủ."}),"\n",(0,t.jsxs)(e.h3,{id:"kh\\xe1i-niệm-cốt-l\\xf5i",children:["Kh\xe1i niệm cốt l\xf5i",(0,t.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#kh\\xe1i-niệm-cốt-l\\xf5i",children:"#"})]}),"\n",(0,t.jsxs)(e.h4,{id:"xuất-module",children:["Xuất module",(0,t.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#xuất-module",children:"#"})]}),"\n",(0,t.jsx)(e.p,{children:"Xuất module l\xe0 qu\xe1 tr\xecnh đưa c\xe1c đơn vị m\xe3 cụ thể trong dịch vụ (như component, h\xe0m tiện \xedch, v.v.) ra ngo\xe0i dưới định dạng ESM. Hỗ trợ hai loại xuất:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Xuất m\xe3 nguồn"}),": Xuất trực tiếp c\xe1c file m\xe3 nguồn trong dự \xe1n"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Xuất phụ thuộc"}),": Xuất c\xe1c g\xf3i phụ thuộc b\xean thứ ba m\xe0 dự \xe1n sử dụng"]}),"\n"]}),"\n",(0,t.jsxs)(e.h4,{id:"li\\xean-kết-module-1",children:["Li\xean kết module",(0,t.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#li\\xean-kết-module-1",children:"#"})]}),"\n",(0,t.jsx)(e.p,{children:"Nhập module l\xe0 qu\xe1 tr\xecnh tham chiếu c\xe1c đơn vị m\xe3 được xuất từ c\xe1c dịch vụ kh\xe1c. Hỗ trợ nhiều c\xe1ch c\xe0i đặt:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"C\xe0i đặt m\xe3 nguồn"}),": Ph\xf9 hợp cho m\xf4i trường ph\xe1t triển, hỗ trợ sửa đổi v\xe0 cập nhật n\xf3ng thời gian thực"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"C\xe0i đặt g\xf3i phần mềm"}),": Ph\xf9 hợp cho m\xf4i trường sản xuất, sử dụng trực tiếp sản phẩm đ\xe3 build"]}),"\n"]}),"\n",(0,t.jsxs)(e.h2,{id:"xuất-module-1",children:["Xuất module",(0,t.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#xuất-module-1",children:"#"})]}),"\n",(0,t.jsxs)(e.h3,{id:"hướng-dẫn-cấu-h\\xecnh",children:["Hướng dẫn cấu h\xecnh",(0,t.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#hướng-dẫn-cấu-h\\xecnh",children:"#"})]}),"\n",(0,t.jsxs)(e.p,{children:["Cấu h\xecnh c\xe1c module cần xuất trong ",(0,t.jsx)(e.code,{children:"entry.node.ts"}),":"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",meta:'title="src/entry.node.ts"',children:"import type { GezOptions } from '@gez/core';\n\nexport default {\n    modules: {\n        exports: [\n            // Xuất file m\xe3 nguồn\n            'root:src/components/button.vue',  // Vue component\n            'root:src/utils/format.ts',        // H\xe0m tiện \xedch\n            // Xuất phụ thuộc b\xean thứ ba\n            'npm:vue',                         // Vue framework\n            'npm:vue-router'                   // Vue Router\n        ]\n    }\n} satisfies GezOptions;\n"})}),"\n",(0,t.jsx)(e.p,{children:"Cấu h\xecnh xuất hỗ trợ hai loại:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"root:*"}),": Xuất file m\xe3 nguồn, đường dẫn tương đối so với thư mục gốc dự \xe1n"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"npm:*"}),": Xuất phụ thuộc b\xean thứ ba, chỉ định trực tiếp t\xean g\xf3i"]}),"\n"]}),"\n",(0,t.jsxs)(e.h2,{id:"nhập-module",children:["Nhập module",(0,t.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#nhập-module",children:"#"})]}),"\n",(0,t.jsxs)(e.h3,{id:"hướng-dẫn-cấu-h\\xecnh-1",children:["Hướng dẫn cấu h\xecnh",(0,t.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#hướng-dẫn-cấu-h\\xecnh-1",children:"#"})]}),"\n",(0,t.jsxs)(e.p,{children:["Cấu h\xecnh c\xe1c module cần nhập trong ",(0,t.jsx)(e.code,{children:"entry.node.ts"}),":"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",meta:'title="src/entry.node.ts"',children:"import type { GezOptions } from '@gez/core';\n\nexport default {\n    modules: {\n        // Cấu h\xecnh li\xean kết\n        links: {\n            // C\xe0i đặt m\xe3 nguồn: trỏ đến thư mục sản phẩm build\n            'ssr-remote': 'root:./node_modules/ssr-remote/dist',\n            // C\xe0i đặt g\xf3i phần mềm: trỏ đến thư mục g\xf3i\n            'other-remote': 'root:./node_modules/other-remote'\n        },\n        // Cấu h\xecnh \xe1nh xạ nhập\n        imports: {\n            // Sử dụng phụ thuộc từ module từ xa\n            'vue': 'ssr-remote/npm/vue',\n            'vue-router': 'ssr-remote/npm/vue-router'\n        }\n    }\n} satisfies GezOptions;\n"})}),"\n",(0,t.jsx)(e.p,{children:"Giải th\xedch c\xe1c mục cấu h\xecnh:"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"imports"}),": Cấu h\xecnh đường dẫn cục bộ cho module từ xa"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"C\xe0i đặt m\xe3 nguồn: trỏ đến thư mục sản phẩm build (dist)"}),"\n",(0,t.jsx)(e.li,{children:"C\xe0i đặt g\xf3i phần mềm: trỏ trực tiếp đến thư mục g\xf3i"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"externals"}),": Cấu h\xecnh phụ thuộc b\xean ngo\xe0i"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"D\xf9ng để chia sẻ phụ thuộc từ module từ xa"}),"\n",(0,t.jsx)(e.li,{children:"Tr\xe1nh đ\xf3ng g\xf3i lặp lại c\xe1c phụ thuộc giống nhau"}),"\n",(0,t.jsx)(e.li,{children:"Hỗ trợ chia sẻ phụ thuộc giữa nhiều module"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.h3,{id:"c\\xe1ch-c\\xe0i-đặt",children:["C\xe1ch c\xe0i đặt",(0,t.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#c\\xe1ch-c\\xe0i-đặt",children:"#"})]}),"\n",(0,t.jsxs)(e.h4,{id:"c\\xe0i-đặt-m\\xe3-nguồn",children:["C\xe0i đặt m\xe3 nguồn",(0,t.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#c\\xe0i-đặt-m\\xe3-nguồn",children:"#"})]}),"\n",(0,t.jsx)(e.p,{children:"Ph\xf9 hợp cho m\xf4i trường ph\xe1t triển, hỗ trợ sửa đổi v\xe0 cập nhật n\xf3ng thời gian thực."}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"C\xe1ch Workspace"}),"\nKhuyến nghị sử dụng trong dự \xe1n Monorepo:"]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",meta:'title="package.json"',children:'{\n    "devDependencies": {\n        "ssr-remote": "workspace:*"\n    }\n}\n'})}),"\n",(0,t.jsxs)(e.ol,{start:"2",children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"C\xe1ch Link"}),"\nD\xf9ng để debug ph\xe1t triển cục bộ:"]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",meta:'title="package.json"',children:'{\n    "devDependencies": {\n        "ssr-remote": "link:../ssr-remote"\n    }\n}\n'})}),"\n",(0,t.jsxs)(e.h4,{id:"c\\xe0i-đặt-g\\xf3i-phần-mềm",children:["C\xe0i đặt g\xf3i phần mềm",(0,t.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#c\\xe0i-đặt-g\\xf3i-phần-mềm",children:"#"})]}),"\n",(0,t.jsx)(e.p,{children:"Ph\xf9 hợp cho m\xf4i trường sản xuất, sử dụng trực tiếp sản phẩm đ\xe3 build."}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"NPM Registry"}),"\nC\xe0i đặt qua npm registry:"]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",meta:'title="package.json"',children:'{\n    "dependencies": {\n        "ssr-remote": "^1.0.0"\n    }\n}\n'})}),"\n",(0,t.jsxs)(e.ol,{start:"2",children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"M\xe1y chủ tĩnh"}),"\nC\xe0i đặt qua giao thức HTTP/HTTPS:"]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",meta:'title="package.json"',children:'{\n    "dependencies": {\n        "ssr-remote": "https://cdn.example.com/ssr-remote/1.0.0.tgz"\n    }\n}\n'})}),"\n",(0,t.jsxs)(e.h2,{id:"đ\\xf3ng-g\\xf3i-phần-mềm",children:["Đ\xf3ng g\xf3i phần mềm",(0,t.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#đ\\xf3ng-g\\xf3i-phần-mềm",children:"#"})]}),"\n",(0,t.jsxs)(e.h3,{id:"hướng-dẫn-cấu-h\\xecnh-2",children:["Hướng dẫn cấu h\xecnh",(0,t.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#hướng-dẫn-cấu-h\\xecnh-2",children:"#"})]}),"\n",(0,t.jsxs)(e.p,{children:["Cấu h\xecnh c\xe1c t\xf9y chọn build trong ",(0,t.jsx)(e.code,{children:"entry.node.ts"}),":"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",meta:'title="src/entry.node.ts"',children:"import type { GezOptions } from '@gez/core';\n\nexport default {\n    // Cấu h\xecnh xuất module\n    modules: {\n        exports: [\n            'root:src/components/button.vue',\n            'root:src/utils/format.ts',\n            'npm:vue'\n        ]\n    },\n    // Cấu h\xecnh build\n    pack: {\n        // Bật build\n        enable: true,\n\n        // Cấu h\xecnh đầu ra\n        outputs: [\n            'dist/client/versions/latest.tgz',\n            'dist/client/versions/1.0.0.tgz'\n        ],\n\n        // T\xf9y chỉnh package.json\n        packageJson: async (gez, pkg) => {\n            pkg.version = '1.0.0';\n            return pkg;\n        },\n\n        // Xử l\xfd trước khi build\n        onBefore: async (gez, pkg) => {\n            // Tạo khai b\xe1o kiểu\n            // Chạy test case\n            // Cập nhật t\xe0i liệu, v.v.\n        },\n\n        // Xử l\xfd sau khi build\n        onAfter: async (gez, pkg, file) => {\n            // Tải l\xean CDN\n            // Ph\xe1t h\xe0nh l\xean npm repository\n            // Triển khai l\xean m\xf4i trường test, v.v.\n        }\n    }\n} satisfies GezOptions;\n"})}),"\n",(0,t.jsxs)(e.h3,{id:"sản-phẩm-build",children:["Sản phẩm build",(0,t.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#sản-phẩm-build",children:"#"})]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"your-app-name.tgz\n├── package.json        # Th\xf4ng tin g\xf3i\n├── index.js            # Đầu v\xe0o m\xf4i trường sản xuất\n├── server/             # T\xe0i nguy\xean ph\xeda server\n│   └── manifest.json   # \xc1nh xạ t\xe0i nguy\xean ph\xeda server\n├── node/               # Thời gian chạy Node.js\n└── client/             # T\xe0i nguy\xean ph\xeda client\n    └── manifest.json   # \xc1nh xạ t\xe0i nguy\xean ph\xeda client\n"})}),"\n",(0,t.jsxs)(e.h3,{id:"quy-tr\\xecnh-ph\\xe1t-h\\xe0nh",children:["Quy tr\xecnh ph\xe1t h\xe0nh",(0,t.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#quy-tr\\xecnh-ph\\xe1t-h\\xe0nh",children:"#"})]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# 1. Build phi\xean bản sản xuất\ngez build\n\n# 2. Ph\xe1t h\xe0nh l\xean npm\nnpm publish dist/versions/your-app-name.tgz\n"})})]})}function r(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,i.ah)(),n.components);return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(c,{...n})}):c(n)}let s=r;r.__RSPRESS_PAGE_META={},r.__RSPRESS_PAGE_META["vi%2Fguide%2Fessentials%2Fmodule-link.md"]={toc:[{text:"Kh\xe1i niệm cốt l\xf5i",id:"kh\xe1i-niệm-cốt-l\xf5i",depth:3},{text:"Xuất module",id:"xuất-module",depth:4},{text:"Li\xean kết module",id:"li\xean-kết-module-1",depth:4},{text:"Xuất module",id:"xuất-module-1",depth:2},{text:"Hướng dẫn cấu h\xecnh",id:"hướng-dẫn-cấu-h\xecnh",depth:3},{text:"Nhập module",id:"nhập-module",depth:2},{text:"Hướng dẫn cấu h\xecnh",id:"hướng-dẫn-cấu-h\xecnh-1",depth:3},{text:"C\xe1ch c\xe0i đặt",id:"c\xe1ch-c\xe0i-đặt",depth:3},{text:"C\xe0i đặt m\xe3 nguồn",id:"c\xe0i-đặt-m\xe3-nguồn",depth:4},{text:"C\xe0i đặt g\xf3i phần mềm",id:"c\xe0i-đặt-g\xf3i-phần-mềm",depth:4},{text:"Đ\xf3ng g\xf3i phần mềm",id:"đ\xf3ng-g\xf3i-phần-mềm",depth:2},{text:"Hướng dẫn cấu h\xecnh",id:"hướng-dẫn-cấu-h\xecnh-2",depth:3},{text:"Sản phẩm build",id:"sản-phẩm-build",depth:3},{text:"Quy tr\xecnh ph\xe1t h\xe0nh",id:"quy-tr\xecnh-ph\xe1t-h\xe0nh",depth:3}],title:"Li\xean kết module",headingTitle:"Li\xean kết module",frontmatter:{titleSuffix:"Cơ chế chia sẻ m\xe3 giữa c\xe1c dịch vụ trong framework Gez",description:"Giới thiệu chi tiết cơ chế li\xean kết module trong framework Gez, bao gồm chia sẻ m\xe3 giữa c\xe1c dịch vụ, quản l\xfd phụ thuộc v\xe0 triển khai ti\xeau chuẩn ESM, gi\xfap nh\xe0 ph\xe1t triển x\xe2y dựng ứng dụng micro frontend hiệu quả.",head:[["meta",{property:"keywords",content:"Gez, li\xean kết module, Module Link, ESM, chia sẻ m\xe3, quản l\xfd phụ thuộc, micro frontend"}]]}}}}]);