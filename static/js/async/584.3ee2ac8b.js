"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([["584"],{95333:function(e,i,n){n.r(i),n.d(i,{default:()=>l});var o=n(31549),t=n(6603);function r(e){let i=Object.assign({h1:"h1",a:"a",p:"p",h3:"h3",h4:"h4",ul:"ul",li:"li",strong:"strong",h2:"h2",code:"code",pre:"pre",ol:"ol"},(0,t.ah)(),e.components);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(i.h1,{id:"collegamento-moduli",children:["Collegamento Moduli",(0,o.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#collegamento-moduli",children:"#"})]}),"\n",(0,o.jsx)(i.p,{children:"Il framework Gez fornisce un meccanismo completo di collegamento moduli per gestire la condivisione del codice e le relazioni di dipendenza tra i servizi. Questo meccanismo \xe8 basato sulle specifiche ESM (ECMAScript Module) e supporta l'esportazione e l'importazione di moduli a livello di codice sorgente, oltre a una completa gestione delle dipendenze."}),"\n",(0,o.jsxs)(i.h3,{id:"concetti-chiave",children:["Concetti Chiave",(0,o.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#concetti-chiave",children:"#"})]}),"\n",(0,o.jsxs)(i.h4,{id:"esportazione-moduli",children:["Esportazione Moduli",(0,o.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#esportazione-moduli",children:"#"})]}),"\n",(0,o.jsx)(i.p,{children:"L'esportazione di moduli \xe8 il processo di esporre unit\xe0 di codice specifiche (come componenti, funzioni di utilit\xe0, ecc.) da un servizio in formato ESM. Sono supportati due tipi di esportazione:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Esportazione del codice sorgente"}),": esporta direttamente i file di codice sorgente del progetto"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Esportazione delle dipendenze"}),": esporta i pacchetti di dipendenze di terze parti utilizzati dal progetto"]}),"\n"]}),"\n",(0,o.jsxs)(i.h4,{id:"collegamento-moduli-1",children:["Collegamento Moduli",(0,o.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#collegamento-moduli-1",children:"#"})]}),"\n",(0,o.jsx)(i.p,{children:"L'importazione di moduli \xe8 il processo di riferimento a unit\xe0 di codice esportate da altri servizi. Sono supportati diversi metodi di installazione:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Installazione del codice sorgente"}),": adatto per ambienti di sviluppo, supporta modifiche in tempo reale e aggiornamenti a caldo"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Installazione del pacchetto"}),": adatto per ambienti di produzione, utilizza direttamente i prodotti di build"]}),"\n"]}),"\n",(0,o.jsxs)(i.h2,{id:"esportazione-moduli-1",children:["Esportazione Moduli",(0,o.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#esportazione-moduli-1",children:"#"})]}),"\n",(0,o.jsxs)(i.h3,{id:"configurazione",children:["Configurazione",(0,o.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#configurazione",children:"#"})]}),"\n",(0,o.jsxs)(i.p,{children:["Configura i moduli da esportare in ",(0,o.jsx)(i.code,{children:"entry.node.ts"}),":"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-ts",meta:'title="src/entry.node.ts"',children:"import type { GezOptions } from '@gez/core';\n\nexport default {\n    modules: {\n        exports: [\n            // Esporta file di codice sorgente\n            'root:src/components/button.vue',  // Componente Vue\n            'root:src/utils/format.ts',        // Funzione di utilit\xe0\n            // Esporta dipendenze di terze parti\n            'npm:vue',                         // Framework Vue\n            'npm:vue-router'                   // Vue Router\n        ]\n    }\n} satisfies GezOptions;\n"})}),"\n",(0,o.jsx)(i.p,{children:"La configurazione dell'esportazione supporta due tipi:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"root:*"}),": esporta file di codice sorgente, il percorso \xe8 relativo alla directory radice del progetto"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"npm:*"}),": esporta dipendenze di terze parti, specifica direttamente il nome del pacchetto"]}),"\n"]}),"\n",(0,o.jsxs)(i.h2,{id:"importazione-moduli",children:["Importazione Moduli",(0,o.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#importazione-moduli",children:"#"})]}),"\n",(0,o.jsxs)(i.h3,{id:"configurazione-1",children:["Configurazione",(0,o.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#configurazione-1",children:"#"})]}),"\n",(0,o.jsxs)(i.p,{children:["Configura i moduli da importare in ",(0,o.jsx)(i.code,{children:"entry.node.ts"}),":"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-ts",meta:'title="src/entry.node.ts"',children:"import type { GezOptions } from '@gez/core';\n\nexport default {\n    modules: {\n        // Configurazione dei collegamenti\n        links: {\n            // Installazione del codice sorgente: punta alla directory dei prodotti di build\n            'ssr-remote': 'root:./node_modules/ssr-remote/dist',\n            // Installazione del pacchetto: punta alla directory del pacchetto\n            'other-remote': 'root:./node_modules/other-remote'\n        },\n        // Configurazione delle mappature delle importazioni\n        imports: {\n            // Utilizza le dipendenze dal modulo remoto\n            'vue': 'ssr-remote/npm/vue',\n            'vue-router': 'ssr-remote/npm/vue-router'\n        }\n    }\n} satisfies GezOptions;\n"})}),"\n",(0,o.jsx)(i.p,{children:"Descrizione delle opzioni di configurazione:"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.strong,{children:"imports"}),": configura il percorso locale dei moduli remoti"]}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Installazione del codice sorgente: punta alla directory dei prodotti di build (dist)"}),"\n",(0,o.jsx)(i.li,{children:"Installazione del pacchetto: punta direttamente alla directory del pacchetto"}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.strong,{children:"externals"}),": configura le dipendenze esterne"]}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Utilizzato per condividere le dipendenze dai moduli remoti"}),"\n",(0,o.jsx)(i.li,{children:"Evita il ripetuto bundling delle stesse dipendenze"}),"\n",(0,o.jsx)(i.li,{children:"Supporta la condivisione di dipendenze tra pi\xf9 moduli"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(i.h3,{id:"metodi-di-installazione",children:["Metodi di Installazione",(0,o.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#metodi-di-installazione",children:"#"})]}),"\n",(0,o.jsxs)(i.h4,{id:"installazione-del-codice-sorgente",children:["Installazione del Codice Sorgente",(0,o.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#installazione-del-codice-sorgente",children:"#"})]}),"\n",(0,o.jsx)(i.p,{children:"Adatto per ambienti di sviluppo, supporta modifiche in tempo reale e aggiornamenti a caldo."}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Modalit\xe0 Workspace"}),"\nConsigliato per progetti Monorepo:"]}),"\n"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-ts",meta:'title="package.json"',children:'{\n    "devDependencies": {\n        "ssr-remote": "workspace:*"\n    }\n}\n'})}),"\n",(0,o.jsxs)(i.ol,{start:"2",children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Modalit\xe0 Link"}),"\nUtilizzato per il debug e lo sviluppo locale:"]}),"\n"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-ts",meta:'title="package.json"',children:'{\n    "devDependencies": {\n        "ssr-remote": "link:../ssr-remote"\n    }\n}\n'})}),"\n",(0,o.jsxs)(i.h4,{id:"installazione-del-pacchetto",children:["Installazione del Pacchetto",(0,o.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#installazione-del-pacchetto",children:"#"})]}),"\n",(0,o.jsx)(i.p,{children:"Adatto per ambienti di produzione, utilizza direttamente i prodotti di build."}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Registro NPM"}),"\nInstallazione tramite npm registry:"]}),"\n"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-ts",meta:'title="package.json"',children:'{\n    "dependencies": {\n        "ssr-remote": "^1.0.0"\n    }\n}\n'})}),"\n",(0,o.jsxs)(i.ol,{start:"2",children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Server Statico"}),"\nInstallazione tramite protocollo HTTP/HTTPS:"]}),"\n"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-ts",meta:'title="package.json"',children:'{\n    "dependencies": {\n        "ssr-remote": "https://cdn.example.com/ssr-remote/1.0.0.tgz"\n    }\n}\n'})}),"\n",(0,o.jsxs)(i.h2,{id:"costruzione-del-pacchetto",children:["Costruzione del Pacchetto",(0,o.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#costruzione-del-pacchetto",children:"#"})]}),"\n",(0,o.jsxs)(i.h3,{id:"configurazione-2",children:["Configurazione",(0,o.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#configurazione-2",children:"#"})]}),"\n",(0,o.jsxs)(i.p,{children:["Configura le opzioni di build in ",(0,o.jsx)(i.code,{children:"entry.node.ts"}),":"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-ts",meta:'title="src/entry.node.ts"',children:"import type { GezOptions } from '@gez/core';\n\nexport default {\n    // Configurazione dell'esportazione dei moduli\n    modules: {\n        exports: [\n            'root:src/components/button.vue',\n            'root:src/utils/format.ts',\n            'npm:vue'\n        ]\n    },\n    // Configurazione della build\n    pack: {\n        // Abilita la build\n        enable: true,\n\n        // Configurazione degli output\n        outputs: [\n            'dist/client/versions/latest.tgz',\n            'dist/client/versions/1.0.0.tgz'\n        ],\n\n        // Personalizzazione di package.json\n        packageJson: async (gez, pkg) => {\n            pkg.version = '1.0.0';\n            return pkg;\n        },\n\n        // Pre-elaborazione della build\n        onBefore: async (gez, pkg) => {\n            // Genera dichiarazioni di tipo\n            // Esegui test case\n            // Aggiorna documentazione, ecc.\n        },\n\n        // Post-elaborazione della build\n        onAfter: async (gez, pkg, file) => {\n            // Carica su CDN\n            // Pubblica su repository npm\n            // Distribuisci in ambiente di test, ecc.\n        }\n    }\n} satisfies GezOptions;\n"})}),"\n",(0,o.jsxs)(i.h3,{id:"prodotti-della-build",children:["Prodotti della Build",(0,o.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#prodotti-della-build",children:"#"})]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{children:"your-app-name.tgz\n├── package.json        # Informazioni del pacchetto\n├── index.js            # Entry per l'ambiente di produzione\n├── server/             # Risorse lato server\n│   └── manifest.json   # Mappatura delle risorse lato server\n├── node/               # Runtime Node.js\n└── client/             # Risorse lato client\n    └── manifest.json   # Mappatura delle risorse lato client\n"})}),"\n",(0,o.jsxs)(i.h3,{id:"processo-di-pubblicazione",children:["Processo di Pubblicazione",(0,o.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#processo-di-pubblicazione",children:"#"})]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-bash",children:"# 1. Costruisci la versione di produzione\ngez build\n\n# 2. Pubblica su npm\nnpm publish dist/versions/your-app-name.tgz\n"})})]})}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:i}=Object.assign({},(0,t.ah)(),e.components);return i?(0,o.jsx)(i,{...e,children:(0,o.jsx)(r,{...e})}):r(e)}let l=d;d.__RSPRESS_PAGE_META={},d.__RSPRESS_PAGE_META["it%2Fguide%2Fessentials%2Fmodule-link.md"]={toc:[{text:"Concetti Chiave",id:"concetti-chiave",depth:3},{text:"Esportazione Moduli",id:"esportazione-moduli",depth:4},{text:"Collegamento Moduli",id:"collegamento-moduli-1",depth:4},{text:"Esportazione Moduli",id:"esportazione-moduli-1",depth:2},{text:"Configurazione",id:"configurazione",depth:3},{text:"Importazione Moduli",id:"importazione-moduli",depth:2},{text:"Configurazione",id:"configurazione-1",depth:3},{text:"Metodi di Installazione",id:"metodi-di-installazione",depth:3},{text:"Installazione del Codice Sorgente",id:"installazione-del-codice-sorgente",depth:4},{text:"Installazione del Pacchetto",id:"installazione-del-pacchetto",depth:4},{text:"Costruzione del Pacchetto",id:"costruzione-del-pacchetto",depth:2},{text:"Configurazione",id:"configurazione-2",depth:3},{text:"Prodotti della Build",id:"prodotti-della-build",depth:3},{text:"Processo di Pubblicazione",id:"processo-di-pubblicazione",depth:3}],title:"Collegamento Moduli",headingTitle:"Collegamento Moduli",frontmatter:{titleSuffix:"Meccanismo di condivisione del codice tra servizi nel framework Gez",description:"Descrizione dettagliata del meccanismo di collegamento dei moduli nel framework Gez, inclusa la condivisione del codice tra servizi, la gestione delle dipendenze e l'implementazione delle specifiche ESM, per aiutare gli sviluppatori a costruire applicazioni micro-frontend efficienti.",head:[["meta",{property:"keywords",content:"Gez, collegamento moduli, Module Link, ESM, condivisione codice, gestione dipendenze, micro-frontend"}]]}}}}]);