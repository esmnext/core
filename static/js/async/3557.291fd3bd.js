"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([["3557"],{26863:function(e,n,i){i.r(n),i.d(n,{default:()=>a});var t=i(31549),r=i(6603);function s(e){let n=Object.assign({pre:"pre",code:"code",p:"p",ul:"ul",li:"li",h2:"h2",a:"a",h3:"h3",ol:"ol",strong:"strong",h4:"h4"},(0,r.ah)(),e.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-markdown",children:"---\ntitleSuffix: Gez Framework Service Inter-Code Sharing Mechanism\ndescription: Gedetailleerde uitleg over de module linking mechanisme van het Gez framework, inclusief service inter-code sharing, dependency management en ESM specificatie implementatie, om ontwikkelaars te helpen effici\xebnte micro-frontend applicaties te bouwen.\nhead:\n  - - meta\n    - property: keywords\n      content: Gez, Module Linking, Module Link, ESM, Code Sharing, Dependency Management, Micro-frontend\n---\n\n# Module Linking\n\nHet Gez framework biedt een compleet module linking mechanisme voor het beheren van code sharing en afhankelijkheden tussen services. Dit mechanisme is gebaseerd op de ESM (ECMAScript Module) specificatie en ondersteunt module export en import op broncode niveau, evenals volledige dependency management functionaliteit.\n\n### Kernconcepten\n\n#### Module Export\nModule export is het proces waarbij specifieke code eenheden (zoals componenten, utility functies, etc.) vanuit een service worden blootgesteld in ESM formaat. Er worden twee export types ondersteund:\n- **Broncode Export**: Directe export van broncode bestanden uit het project\n- **Dependency Export**: Export van gebruikte third-party dependency packages\n\n#### Module Linking\nModule import is het proces waarbij code eenheden die door andere services zijn ge\xebxporteerd, worden ge\xefmporteerd in een service. Er worden meerdere installatiemethoden ondersteund:\n- **Broncode Installatie**: Geschikt voor ontwikkelomgevingen, ondersteunt real-time wijzigingen en hot updates\n- **Package Installatie**: Geschikt voor productieomgevingen, maakt direct gebruik van build artifacts\n\n## Module Export\n\n### Configuratie Uitleg\n\nConfigureer de te exporteren modules in `entry.node.ts`:\n\n```ts title=\"src/entry.node.ts\"\nimport type { GezOptions } from '@gez/core';\n\nexport default {\n    modules: {\n        exports: [\n            // Exporteer broncode bestanden\n            'root:src/components/button.vue',  // Vue component\n            'root:src/utils/format.ts',        // Utility functie\n            // Exporteer third-party dependencies\n            'npm:vue',                         // Vue framework\n            'npm:vue-router'                   // Vue Router\n        ]\n    }\n} satisfies GezOptions;\n"})}),"\n",(0,t.jsx)(n.p,{children:"Export configuratie ondersteunt twee types:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"root:*"}),": Exporteer broncode bestanden, pad relatief ten opzichte van de project root directory"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"npm:*"}),": Exporteer third-party dependencies, specificeer direct de package naam"]}),"\n"]}),"\n",(0,t.jsxs)(n.h2,{id:"module-import",children:["Module Import",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#module-import",children:"#"})]}),"\n",(0,t.jsxs)(n.h3,{id:"configuratie-uitleg",children:["Configuratie Uitleg",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#configuratie-uitleg",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["Configureer de te importeren modules in ",(0,t.jsx)(n.code,{children:"entry.node.ts"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",meta:'title="src/entry.node.ts"',children:"import type { GezOptions } from '@gez/core';\n\nexport default {\n    modules: {\n        // Link configuratie\n        links: {\n            // Broncode installatie: wijs naar de build artifact directory\n            'ssr-remote': 'root:./node_modules/ssr-remote/dist',\n            // Package installatie: wijs naar de package directory\n            'other-remote': 'root:./node_modules/other-remote'\n        },\n        // Import mapping instellingen\n        imports: {\n            // Gebruik dependencies van remote modules\n            'vue': 'ssr-remote/npm/vue',\n            'vue-router': 'ssr-remote/npm/vue-router'\n        }\n    }\n} satisfies GezOptions;\n"})}),"\n",(0,t.jsx)(n.p,{children:"Configuratie uitleg:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"imports"}),": Configureer lokale paden voor remote modules"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Broncode installatie: wijs naar de build artifact directory (dist)"}),"\n",(0,t.jsx)(n.li,{children:"Package installatie: wijs direct naar de package directory"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"externals"}),": Configureer externe dependencies"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Gebruikt voor het delen van dependencies tussen remote modules"}),"\n",(0,t.jsx)(n.li,{children:"Voorkomt dubbele bundeling van dezelfde dependencies"}),"\n",(0,t.jsx)(n.li,{children:"Ondersteunt het delen van dependencies tussen meerdere modules"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.h3,{id:"installatie-methoden",children:["Installatie Methoden",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#installatie-methoden",children:"#"})]}),"\n",(0,t.jsxs)(n.h4,{id:"broncode-installatie",children:["Broncode Installatie",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#broncode-installatie",children:"#"})]}),"\n",(0,t.jsx)(n.p,{children:"Geschikt voor ontwikkelomgevingen, ondersteunt real-time wijzigingen en hot updates."}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Workspace Methode"}),"\nAanbevolen voor gebruik in Monorepo projecten:"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",meta:'title="package.json"',children:'{\n    "devDependencies": {\n        "ssr-remote": "workspace:*"\n    }\n}\n'})}),"\n",(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Link Methode"}),"\nGebruikt voor lokale ontwikkeling en debugging:"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",meta:'title="package.json"',children:'{\n    "devDependencies": {\n        "ssr-remote": "link:../ssr-remote"\n    }\n}\n'})}),"\n",(0,t.jsxs)(n.h4,{id:"package-installatie",children:["Package Installatie",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#package-installatie",children:"#"})]}),"\n",(0,t.jsx)(n.p,{children:"Geschikt voor productieomgevingen, maakt direct gebruik van build artifacts."}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"NPM Registry"}),"\nInstallatie via npm registry:"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",meta:'title="package.json"',children:'{\n    "dependencies": {\n        "ssr-remote": "^1.0.0"\n    }\n}\n'})}),"\n",(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Statische Server"}),"\nInstallatie via HTTP/HTTPS protocol:"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",meta:'title="package.json"',children:'{\n    "dependencies": {\n        "ssr-remote": "https://cdn.example.com/ssr-remote/1.0.0.tgz"\n    }\n}\n'})}),"\n",(0,t.jsxs)(n.h2,{id:"package-bouwen",children:["Package Bouwen",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#package-bouwen",children:"#"})]}),"\n",(0,t.jsxs)(n.h3,{id:"configuratie-uitleg-1",children:["Configuratie Uitleg",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#configuratie-uitleg-1",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["Configureer de build opties in ",(0,t.jsx)(n.code,{children:"entry.node.ts"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",meta:'title="src/entry.node.ts"',children:"import type { GezOptions } from '@gez/core';\n\nexport default {\n    // Module export configuratie\n    modules: {\n        exports: [\n            'root:src/components/button.vue',\n            'root:src/utils/format.ts',\n            'npm:vue'\n        ]\n    },\n    // Build configuratie\n    pack: {\n        // Schakel build in\n        enable: true,\n\n        // Output configuratie\n        outputs: [\n            'dist/client/versions/latest.tgz',\n            'dist/client/versions/1.0.0.tgz'\n        ],\n\n        // Aangepaste package.json\n        packageJson: async (gez, pkg) => {\n            pkg.version = '1.0.0';\n            return pkg;\n        },\n\n        // Pre-build verwerking\n        onBefore: async (gez, pkg) => {\n            // Genereer type declaraties\n            // Voer test cases uit\n            // Update documentatie, etc.\n        },\n\n        // Post-build verwerking\n        onAfter: async (gez, pkg, file) => {\n            // Upload naar CDN\n            // Publiceer naar npm repository\n            // Deploy naar testomgeving, etc.\n        }\n    }\n} satisfies GezOptions;\n"})}),"\n",(0,t.jsxs)(n.h3,{id:"build-artifacts",children:["Build Artifacts",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#build-artifacts",children:"#"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"your-app-name.tgz\n├── package.json        # Package informatie\n├── index.js            # Productie omgeving entry\n├── server/             # Server resources\n│   └── manifest.json   # Server resource mapping\n├── node/               # Node.js runtime\n└── client/             # Client resources\n    └── manifest.json   # Client resource mapping\n"})}),"\n",(0,t.jsxs)(n.h3,{id:"publicatie-proces",children:["Publicatie Proces",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#publicatie-proces",children:"#"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# 1. Bouw productie versie\ngez build\n\n# 2. Publiceer naar npm\nnpm publish dist/versions/your-app-name.tgz\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"\n"})})]})}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,r.ah)(),e.components);return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(s,{...e})}):s(e)}let a=o;o.__RSPRESS_PAGE_META={},o.__RSPRESS_PAGE_META["nl%2Fguide%2Fessentials%2Fmodule-link.md"]={toc:[{text:"Module Import",id:"module-import",depth:2},{text:"Configuratie Uitleg",id:"configuratie-uitleg",depth:3},{text:"Installatie Methoden",id:"installatie-methoden",depth:3},{text:"Broncode Installatie",id:"broncode-installatie",depth:4},{text:"Package Installatie",id:"package-installatie",depth:4},{text:"Package Bouwen",id:"package-bouwen",depth:2},{text:"Configuratie Uitleg",id:"configuratie-uitleg-1",depth:3},{text:"Build Artifacts",id:"build-artifacts",depth:3},{text:"Publicatie Proces",id:"publicatie-proces",depth:3}],title:"",headingTitle:"",frontmatter:{}}}}]);