---
titleSuffix: คู่มือการใช้งานการเรนเดอร์ฝั่งไคลเอ็นต์ของเฟรมเวิร์ก Gez
description: รายละเอียดเกี่ยวกับกลไกการเรนเดอร์ฝั่งไคลเอ็นต์ของเฟรมเวิร์ก Gez รวมถึงการสร้างแบบสแตติก กลยุทธ์การปรับใช้ และแนวปฏิบัติที่ดีที่สุด เพื่อช่วยให้นักพัฒนาสามารถทำการเรนเดอร์ส่วนหน้าได้อย่างมีประสิทธิภาพในสภาพแวดล้อมที่ไม่มีเซิร์ฟเวอร์
head:
  - - meta
    - property: keywords
      content: Gez, การเรนเดอร์ฝั่งไคลเอ็นต์, CSR, การสร้างแบบสแตติก, การเรนเดอร์ส่วนหน้า, การปรับใช้แบบไม่มีเซิร์ฟเวอร์, การปรับปรุงประสิทธิภาพ
---

# การเรนเดอร์ฝั่งไคลเอ็นต์

การเรนเดอร์ฝั่งไคลเอ็นต์ (Client-Side Rendering, CSR) เป็นเทคนิคการเรนเดอร์หน้าเว็บที่ดำเนินการบนเบราว์เซอร์ ใน Gez เมื่อคุณไม่สามารถปรับใช้อินสแตนซ์เซิร์ฟเวอร์ Node.js ได้ คุณสามารถเลือกสร้างไฟล์ `index.html` แบบสแตติกในขั้นตอนการสร้าง เพื่อทำการเรนเดอร์ฝั่งไคลเอ็นต์แบบเต็ม

## สถานการณ์ที่แนะนำให้ใช้

สถานการณ์ต่อไปนี้แนะนำให้ใช้การเรนเดอร์ฝั่งไคลเอ็นต์:

- **สภาพแวดล้อมโฮสติ้งแบบสแตติก**: เช่น GitHub Pages, CDN และบริการโฮสติ้งอื่นๆ ที่ไม่รองรับการเรนเดอร์ฝั่งเซิร์ฟเวอร์
- **แอปพลิเคชันที่เรียบง่าย**: แอปพลิเคชันขนาดเล็กที่ไม่ต้องการความเร็วในการโหลดหน้าครั้งแรกและการทำ SEO สูง
- **สภาพแวดล้อมการพัฒนา**: เพื่อการดูตัวอย่างและการดีบักแอปพลิเคชันอย่างรวดเร็วในขั้นตอนการพัฒนา

## คำอธิบายการกำหนดค่า

### การกำหนดค่าเทมเพลต HTML

ในโหมดการเรนเดอร์ฝั่งไคลเอ็นต์ คุณจำเป็นต้องกำหนดค่าเทมเพลต HTML ทั่วไป เทมเพลตนี้จะทำหน้าที่เป็นคอนเทนเนอร์สำหรับแอปพลิเคชันของคุณ และรวมถึงการอ้างอิงทรัพยากรที่จำเป็นและจุดเชื่อมต่อ

```ts title="src/entry.server.ts"
import type { RenderContext } from '@gez/core';

export default async (rc: RenderContext) => {
    // ส่งการรวบรวมการพึ่งพา
    await rc.commit();
    
    // กำหนดค่าเทมเพลต HTML
    rc.html = `
<!DOCTYPE html>
<html>
<head>
    ${rc.preload()}           // โหลดทรัพยากรล่วงหน้า
    <title>Gez</title>
    ${rc.css()}               // ฉีดสไตล์
</head>
<body>
    <div id="app"></div>
    ${rc.importmap()}         // แผนที่การนำเข้า
    ${rc.moduleEntry()}       // โมดูลทางเข้า
    ${rc.modulePreload()}     // โมดูลโหลดล่วงหน้า
</body>
</html>
`;
};
```

### การสร้าง HTML แบบสแตติก

เพื่อใช้การเรนเดอร์ฝั่งไคลเอ็นต์ในสภาพแวดล้อมการผลิต คุณจำเป็นต้องสร้างไฟล์ HTML แบบสแตติกในขั้นตอนการสร้าง Gez มีฟังก์ชัน hook `postBuild` เพื่อทำหน้าที่นี้:

```ts title="src/entry.node.ts"
import type { GezOptions } from '@gez/core';

export default {
    async postBuild(gez) {
        // สร้างไฟล์ HTML แบบสแตติก
        const rc = await gez.render();
        // เขียนไฟล์ HTML
        gez.writeSync(
            gez.resolvePath('dist/client', 'index.html'),
            rc.html
        );
    }
} satisfies GezOptions;
```