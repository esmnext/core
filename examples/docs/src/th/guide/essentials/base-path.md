---
titleSuffix: คู่มือการกำหนดเส้นทางทรัพยากรคงที่ของเฟรมเวิร์ก Esmx
description: คำอธิบายโดยละเอียดเกี่ยวกับการกำหนดค่าเส้นทางพื้นฐานของเฟรมเวิร์ก Esmx รวมถึงการปรับใช้หลายสภาพแวดล้อม การกระจาย CDN และการตั้งค่าเส้นทางการเข้าถึงทรัพยากร เพื่อช่วยให้นักพัฒนาสามารถจัดการทรัพยากรคงที่ได้อย่างยืดหยุ่น
head:
  - - meta
    - property: keywords
      content: Esmx, เส้นทางพื้นฐาน, Base Path, CDN, ทรัพยากรคงที่, การปรับใช้หลายสภาพแวดล้อม, การจัดการทรัพยากร
---

# เส้นทางพื้นฐาน

เส้นทางพื้นฐาน (Base Path) หมายถึงคำนำหน้าเส้นทางการเข้าถึงทรัพยากรคงที่ (เช่น JavaScript, CSS, รูปภาพ ฯลฯ) ในแอปพลิเคชัน ใน Esmx การกำหนดค่าเส้นทางพื้นฐานอย่างเหมาะสมมีความสำคัญสำหรับสถานการณ์ต่อไปนี้:

- **การปรับใช้หลายสภาพแวดล้อม**: รองรับการเข้าถึงทรัพยากรในสภาพแวดล้อมต่างๆ เช่น สภาพแวดล้อมการพัฒนา การทดสอบ และการผลิต
- **การปรับใช้หลายภูมิภาค**: ปรับให้เหมาะสมกับความต้องการการปรับใช้คลัสเตอร์ในภูมิภาคหรือประเทศต่างๆ
- **การกระจาย CDN**: ทำให้สามารถกระจายและเร่งความเร็วทรัพยากรคงที่ทั่วโลก

## กลไกเส้นทางเริ่มต้น

Esmx ใช้กลไกการสร้างเส้นทางอัตโนมัติตามชื่อบริการ โดยค่าเริ่มต้นเฟรมเวิร์กจะอ่านฟิลด์ `name` ในไฟล์ `package.json` ของโปรเจกต์เพื่อสร้างเส้นทางพื้นฐานสำหรับทรัพยากรคงที่: `/your-app-name/`

```json title="package.json"
{
    "name": "your-app-name"
}
```

การออกแบบที่เน้นการตกลงมากกว่าการกำหนดค่านี้มีข้อดีดังต่อไปนี้:

- **ความสม่ำเสมอ**: รับประกันว่าทรัพยากรคงที่ทั้งหมดใช้เส้นทางการเข้าถึงเดียวกัน
- **ความคาดเดาได้**: สามารถคาดเดาเส้นทางการเข้าถึงทรัพยากรได้จากฟิลด์ `name` ใน `package.json`
- **การบำรุงรักษาที่ง่าย**: ไม่ต้องกำหนดค่าเพิ่มเติม ลดต้นทุนการบำรุงรักษา

## การกำหนดค่าเส้นทางแบบไดนามิก

ในโปรเจกต์จริง เรามักต้องปรับใช้โค้ดชุดเดียวกันในสภาพแวดล้อมหรือภูมิภาคที่แตกต่างกัน Esmx รองรับเส้นทางพื้นฐานแบบไดนามิก ทำให้แอปพลิเคชันสามารถปรับตัวให้เข้ากับสถานการณ์การปรับใช้ที่แตกต่างกันได้

### สถานการณ์การใช้งาน

#### การปรับใช้ในไดเรกทอรีย่อย
```
- example.com      -> เว็บไซต์หลักเริ่มต้น
- example.com/cn/  -> เว็บไซต์ภาษาจีน
- example.com/en/  -> เว็บไซต์ภาษาอังกฤษ
```

#### การปรับใช้โดเมนแยก
```
- example.com    -> เว็บไซต์หลักเริ่มต้น
- cn.example.com -> เว็บไซต์ภาษาจีน
- en.example.com -> เว็บไซต์ภาษาอังกฤษ
```

### วิธีการกำหนดค่า

ผ่านพารามิเตอร์ `base` ของเมธอด `esmx.render()` คุณสามารถตั้งค่าเส้นทางพื้นฐานแบบไดนามิกตามบริบทของคำขอ:

```ts
const render = await esmx.render({
    base: '/cn',  // ตั้งค่าเส้นทางพื้นฐาน
    params: {
        url: req.url
    }
});
```