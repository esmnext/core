---
titleSuffix: Esmx फ्रेमवर्क सेवा-अंतर कोड साझाकरण तंत्र
description: Esmx फ्रेमवर्क के मॉड्यूल लिंकिंग तंत्र का विस्तृत विवरण, जिसमें सेवा-अंतर कोड साझाकरण, निर्भरता प्रबंधन और ESM मानक कार्यान्वयन शामिल है, जो डेवलपर्स को कुशल माइक्रो-फ्रंटएंड एप्लिकेशन बनाने में मदद करता है।
head:
  - - meta
    - property: keywords
      content: Esmx, मॉड्यूल लिंकिंग, Module Link, ESM, कोड साझाकरण, निर्भरता प्रबंधन, माइक्रो-फ्रंटएंड
---

# मॉड्यूल लिंकिंग

Esmx फ्रेमवर्क सेवा-अंतर कोड साझाकरण और निर्भरता संबंधों को प्रबंधित करने के लिए एक संपूर्ण मॉड्यूल लिंकिंग तंत्र प्रदान करता है। यह तंत्र ESM (ECMAScript Module) मानक पर आधारित है, जो स्रोत कोड स्तर पर मॉड्यूल निर्यात और आयात, साथ ही पूर्ण निर्भरता प्रबंधन कार्यक्षमता का समर्थन करता है।

### मुख्य अवधारणाएं

#### मॉड्यूल निर्यात
मॉड्यूल निर्यात सेवा में विशिष्ट कोड इकाइयों (जैसे कंपोनेंट्स, उपयोगिता फ़ंक्शन्स आदि) को ESM प्रारूप में बाहरी रूप से उजागर करने की प्रक्रिया है। यह दो प्रकार के निर्यात का समर्थन करता है:
- **स्रोत कोड निर्यात**: प्रोजेक्ट में स्रोत कोड फ़ाइलों को सीधे निर्यात करना
- **निर्भरता निर्यात**: प्रोजेक्ट द्वारा उपयोग किए जाने वाले तृतीय-पक्ष निर्भरता पैकेजों को निर्यात करना

#### मॉड्यूल लिंकिंग
मॉड्यूल आयात सेवा में अन्य सेवाओं द्वारा निर्यात किए गए कोड इकाइयों को संदर्भित करने की प्रक्रिया है। यह कई प्रकार की स्थापना विधियों का समर्थन करता है:
- **स्रोत कोड स्थापना**: विकास वातावरण के लिए उपयुक्त, वास्तविक समय संशोधन और हॉट अपडेट का समर्थन करता है
- **सॉफ़्टवेयर पैकेज स्थापना**: उत्पादन वातावरण के लिए उपयुक्त, सीधे निर्मित उत्पादों का उपयोग करता है

## मॉड्यूल निर्यात

### कॉन्फ़िगरेशन विवरण

`entry.node.ts` में निर्यात करने के लिए आवश्यक मॉड्यूल्स को कॉन्फ़िगर करें:

```ts title="src/entry.node.ts"
import type { EsmxOptions } from '@esmx/core';

export default {
    modules: {
        exports: [
            // स्रोत कोड फ़ाइलें निर्यात करें
            'root:src/components/button.vue',  // Vue कंपोनेंट
            'root:src/utils/format.ts',        // उपयोगिता फ़ंक्शन
            // तृतीय-पक्ष निर्भरताएं निर्यात करें
            'npm:vue',                         // Vue फ्रेमवर्क
            'npm:vue-router'                   // Vue Router
        ]
    }
} satisfies EsmxOptions;
```

निर्यात कॉन्फ़िगरेशन दो प्रकार का समर्थन करता है:
- `root:*`: स्रोत कोड फ़ाइलें निर्यात करें, पथ प्रोजेक्ट रूट डायरेक्टरी के सापेक्ष
- `npm:*`: तृतीय-पक्ष निर्भरताएं निर्यात करें, सीधे पैकेज नाम निर्दिष्ट करें

## मॉड्यूल आयात

### कॉन्फ़िगरेशन विवरण

`entry.node.ts` में आयात करने के लिए आवश्यक मॉड्यूल्स को कॉन्फ़िगर करें:

```ts title="src/entry.node.ts"
import type { EsmxOptions } from '@esmx/core';

export default {
    modules: {
        // लिंक कॉन्फ़िगरेशन
        links: {
            // स्रोत कोड स्थापना: निर्मित उत्पाद डायरेक्टरी की ओर इंगित करें
            'ssr-remote': 'root:./node_modules/ssr-remote/dist',
            // सॉफ़्टवेयर पैकेज स्थापना: पैकेज डायरेक्टरी की ओर इंगित करें
            'other-remote': 'root:./node_modules/other-remote'
        },
        // आयात मैपिंग सेटिंग्स
        imports: {
            // रिमोट मॉड्यूल में निर्भरताओं का उपयोग करें
            'vue': 'ssr-remote/npm/vue',
            'vue-router': 'ssr-remote/npm/vue-router'
        }
    }
} satisfies EsmxOptions;
```

कॉन्फ़िगरेशन विकल्प विवरण:
1. **imports**: रिमोट मॉड्यूल्स के लिए स्थानीय पथ कॉन्फ़िगर करें
   - स्रोत कोड स्थापना: निर्मित उत्पाद डायरेक्टरी (dist) की ओर इंगित करें
   - सॉफ़्टवेयर पैकेज स्थापना: सीधे पैकेज डायरेक्टरी की ओर इंगित करें

2. **externals**: बाहरी निर्भरताओं को कॉन्फ़िगर करें
   - रिमोट मॉड्यूल्स में निर्भरताओं को साझा करने के लिए उपयोग किया जाता है
   - समान निर्भरताओं को दोहराने से बचाता है
   - कई मॉड्यूल्स द्वारा निर्भरताओं को साझा करने का समर्थन करता है

### स्थापना विधियाँ

#### स्रोत कोड स्थापना
विकास वातावरण के लिए उपयुक्त, वास्तविक समय संशोधन और हॉट अपडेट का समर्थन करता है।

1. **Workspace विधि**
Monorepo प्रोजेक्ट्स में उपयोग के लिए अनुशंसित:
```ts title="package.json"
{
    "devDependencies": {
        "ssr-remote": "workspace:*"
    }
}
```

2. **Link विधि**
स्थानीय विकास और डिबगिंग के लिए उपयोग किया जाता है:
```ts title="package.json"
{
    "devDependencies": {
        "ssr-remote": "link:../ssr-remote"
    }
}
```

#### सॉफ़्टवेयर पैकेज स्थापना
उत्पादन वातावरण के लिए उपयुक्त, सीधे निर्मित उत्पादों का उपयोग करता है।

1. **NPM रजिस्ट्री**
npm रजिस्ट्री के माध्यम से स्थापित करें:
```ts title="package.json"
{
    "dependencies": {
        "ssr-remote": "^1.0.0"
    }
}
```

2. **स्थिर सर्वर**
HTTP/HTTPS प्रोटोकॉल के माध्यम से स्थापित करें:
```ts title="package.json"
{
    "dependencies": {
        "ssr-remote": "https://cdn.example.com/ssr-remote/1.0.0.tgz"
    }
}
```

## सॉफ़्टवेयर पैकेज निर्माण

### कॉन्फ़िगरेशन विवरण

`entry.node.ts` में निर्माण विकल्पों को कॉन्फ़िगर करें:

```ts title="src/entry.node.ts"
import type { EsmxOptions } from '@esmx/core';

export default {
    // मॉड्यूल निर्यात कॉन्फ़िगरेशन
    modules: {
        exports: [
            'root:src/components/button.vue',
            'root:src/utils/format.ts',
            'npm:vue'
        ]
    },
    // निर्माण कॉन्फ़िगरेशन
    pack: {
        // निर्माण सक्षम करें
        enable: true,

        // आउटपुट कॉन्फ़िगरेशन
        outputs: [
            'dist/client/versions/latest.tgz',
            'dist/client/versions/1.0.0.tgz'
        ],

        // कस्टम package.json
        packageJson: async (esmx, pkg) => {
            pkg.version = '1.0.0';
            return pkg;
        },

        // निर्माण से पहले प्रक्रिया
        onBefore: async (esmx, pkg) => {
            // प्रकार घोषणाएं उत्पन्न करें
            // परीक्षण केस चलाएं
            // दस्तावेज़ीकरण अपडेट करें आदि
        },

        // निर्माण के बाद प्रक्रिया
        onAfter: async (esmx, pkg, file) => {
            // CDN पर अपलोड करें
            // npm रिपॉजिटरी में प्रकाशित करें
            // परीक्षण वातावरण में तैनात करें आदि
        }
    }
} satisfies EsmxOptions;
```

### निर्माण उत्पाद

```
your-app-name.tgz
├── package.json        # पैकेज जानकारी
├── index.js            # उत्पादन वातावरण प्रवेश बिंदु
├── server/             # सर्वर-साइड संसाधन
│   └── manifest.json   # सर्वर-साइड संसाधन मैपिंग
├── node/               # Node.js रनटाइम
└── client/             # क्लाइंट-साइड संसाधन
    └── manifest.json   # क्लाइंट-साइड संसाधन मैपिंग
```

### प्रकाशन प्रक्रिया

```bash
# 1. उत्पादन संस्करण निर्माण करें
esmx build

# 2. npm पर प्रकाशित करें
npm publish dist/versions/your-app-name.tgz
```